<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>设计模式 | Noah</title><meta name="description" content="阅读《设计模式》笔记"><meta name="keywords" content="设计模式"><meta name="author" content="Noah Pan"><meta name="copyright" content="Noah Pan"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://tva1.sinaimg.cn/large/006y8mN6ly1g97xocyw0bj300g00g0s2.jpg"><link rel="preconnect" href="//cdn.jsdelivr.net"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="设计模式"><meta name="twitter:description" content="阅读《设计模式》笔记"><meta name="twitter:image" content="https://tva1.sinaimg.cn/large/006y8mN6ly1g97p2mnavfj31hc0u07et.jpg"><meta property="og:type" content="article"><meta property="og:title" content="设计模式"><meta property="og:url" content="http://yoursite.com/2019/01/09/2019-01-09-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><meta property="og:site_name" content="Noah"><meta property="og:description" content="阅读《设计模式》笔记"><meta property="og:image" content="https://tva1.sinaimg.cn/large/006y8mN6ly1g97p2mnavfj31hc0u07et.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="canonical" href="http://yoursite.com/2019/01/09/2019-01-09-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><link rel="prev" title="Jenkins实战" href="http://yoursite.com/2019/01/21/2019-01-21-Jenkins%E5%AE%9E%E6%88%98/"><link rel="next" title="SpringAop实战" href="http://yoursite.com/2018/12/20/2018-12-20-SpringAop%E5%AE%9E%E6%88%98/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: undefined,
  copy_copyright_js: false,
  ClickShowText: undefined,
  medium_zoom: 'true',
  Snackbar: undefined
  
}</script></head><body><div id="header"> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Noah</a></span><i class="fa fa-bars fa-fw toggle-menu pull_right close" aria-hidden="true"></i><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 收藏夹</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 更多</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div></div></span><span class="pull_right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lazyload avatar_img" src="https://tva1.sinaimg.cn/large/006y8mN6gy1g95i8yiaddj30sg0sgdgm.jpg" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">28</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">14</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">15</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 收藏夹</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 更多</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#设计模式"><span class="toc_mobile_items-text">设计模式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#章节概述"><span class="toc_mobile_items-text">章节概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#UML入门"><span class="toc_mobile_items-text">UML入门</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#如何理解UML类图"><span class="toc_mobile_items-text">如何理解UML类图</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#设计原则"><span class="toc_mobile_items-text">设计原则</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#开闭原则"><span class="toc_mobile_items-text">开闭原则</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#依赖倒置原则"><span class="toc_mobile_items-text">依赖倒置原则</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#单一职责原则"><span class="toc_mobile_items-text">单一职责原则</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#接口隔离原则"><span class="toc_mobile_items-text">接口隔离原则</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#迪米特原则"><span class="toc_mobile_items-text">迪米特原则</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#合成复用原则"><span class="toc_mobile_items-text">合成复用原则</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#创建者模式"><span class="toc_mobile_items-text">创建者模式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#简单工厂模式"><span class="toc_mobile_items-text">简单工厂模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#工厂方法模式"><span class="toc_mobile_items-text">工厂方法模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#抽象工厂模式"><span class="toc_mobile_items-text">抽象工厂模式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#理解产品族和同一产品等级？"><span class="toc_mobile_items-text">理解产品族和同一产品等级？</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#建造者模式"><span class="toc_mobile_items-text">建造者模式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#建造者模式和工厂模式的区别？"><span class="toc_mobile_items-text">建造者模式和工厂模式的区别？</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#单例模式"><span class="toc_mobile_items-text">单例模式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#懒汉延迟加载"><span class="toc_mobile_items-text">懒汉延迟加载</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#懒汉延迟加载：双重锁方式"><span class="toc_mobile_items-text">懒汉延迟加载：双重锁方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#懒汉延迟加载：静态内部类方式"><span class="toc_mobile_items-text">懒汉延迟加载：静态内部类方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#饿汉式加载"><span class="toc_mobile_items-text">饿汉式加载</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#如何避免序列化和反序列化对单例模式的破坏？"><span class="toc_mobile_items-text">如何避免序列化和反序列化对单例模式的破坏？</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#如何解决通过反射将私有构造器改为public，从而破坏单例对象？"><span class="toc_mobile_items-text">如何解决通过反射将私有构造器改为public，从而破坏单例对象？</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#枚举方式（Effective-Java推荐：最佳）"><span class="toc_mobile_items-text">枚举方式（Effective Java推荐：最佳）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#容器单例模式"><span class="toc_mobile_items-text">容器单例模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#ThreadLocal”单例“模式"><span class="toc_mobile_items-text">ThreadLocal”单例“模式</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#原型模式"><span class="toc_mobile_items-text">原型模式</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#结构型模式"><span class="toc_mobile_items-text">结构型模式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#外观模式"><span class="toc_mobile_items-text">外观模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#装饰者模式"><span class="toc_mobile_items-text">装饰者模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#适配器模式"><span class="toc_mobile_items-text">适配器模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#享元模式"><span class="toc_mobile_items-text">享元模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#组合模式"><span class="toc_mobile_items-text">组合模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#桥接模式"><span class="toc_mobile_items-text">桥接模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#代理模式"><span class="toc_mobile_items-text">代理模式</span></a></li></ol></li></ol></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#设计模式"><span class="toc-text">设计模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#章节概述"><span class="toc-text">章节概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UML入门"><span class="toc-text">UML入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何理解UML类图"><span class="toc-text">如何理解UML类图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设计原则"><span class="toc-text">设计原则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#开闭原则"><span class="toc-text">开闭原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#依赖倒置原则"><span class="toc-text">依赖倒置原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单一职责原则"><span class="toc-text">单一职责原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#接口隔离原则"><span class="toc-text">接口隔离原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#迪米特原则"><span class="toc-text">迪米特原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#合成复用原则"><span class="toc-text">合成复用原则</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建者模式"><span class="toc-text">创建者模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简单工厂模式"><span class="toc-text">简单工厂模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#工厂方法模式"><span class="toc-text">工厂方法模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#抽象工厂模式"><span class="toc-text">抽象工厂模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#理解产品族和同一产品等级？"><span class="toc-text">理解产品族和同一产品等级？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#建造者模式"><span class="toc-text">建造者模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#建造者模式和工厂模式的区别？"><span class="toc-text">建造者模式和工厂模式的区别？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单例模式"><span class="toc-text">单例模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#懒汉延迟加载"><span class="toc-text">懒汉延迟加载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#懒汉延迟加载：双重锁方式"><span class="toc-text">懒汉延迟加载：双重锁方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#懒汉延迟加载：静态内部类方式"><span class="toc-text">懒汉延迟加载：静态内部类方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#饿汉式加载"><span class="toc-text">饿汉式加载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#如何避免序列化和反序列化对单例模式的破坏？"><span class="toc-text">如何避免序列化和反序列化对单例模式的破坏？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#如何解决通过反射将私有构造器改为public，从而破坏单例对象？"><span class="toc-text">如何解决通过反射将私有构造器改为public，从而破坏单例对象？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#枚举方式（Effective-Java推荐：最佳）"><span class="toc-text">枚举方式（Effective Java推荐：最佳）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#容器单例模式"><span class="toc-text">容器单例模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ThreadLocal”单例“模式"><span class="toc-text">ThreadLocal”单例“模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#原型模式"><span class="toc-text">原型模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结构型模式"><span class="toc-text">结构型模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#外观模式"><span class="toc-text">外观模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#装饰者模式"><span class="toc-text">装饰者模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#适配器模式"><span class="toc-text">适配器模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#享元模式"><span class="toc-text">享元模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组合模式"><span class="toc-text">组合模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#桥接模式"><span class="toc-text">桥接模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代理模式"><span class="toc-text">代理模式</span></a></li></ol></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://tva1.sinaimg.cn/large/006y8mN6gy1g96i6cigbdj31400p0e27.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">设计模式</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-01-09<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2019-11-23</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon" aria-hidden="true"></i><span>字数总计: </span><span class="word-count">4.7k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon" aria-hidden="true"></i><span>阅读时长: 15 分钟</span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h1><p>[TOC]</p>
<p>todo：目录和总结概述话语</p>
<h2 id="章节概述"><a href="#章节概述" class="headerlink" title="章节概述"></a>章节概述</h2><ol>
<li><strong>UML入门</strong><ul>
<li>UML基础</li>
<li>UML类图</li>
<li>UML时序图</li>
<li>UML类关系</li>
<li>UML记忆技巧</li>
</ul>
</li>
<li><strong>7大设计原则</strong><ul>
<li>开闭原则</li>
<li>依赖倒置原则</li>
<li>单一职责原则</li>
<li>接口隔离原则</li>
<li>迪米特原则</li>
<li>里氏替换原则</li>
<li>合成复用原则</li>
</ul>
</li>
<li><strong>设计模式-创建型模式</strong><ul>
<li>工厂方法模式</li>
<li>抽象工厂模式</li>
<li>建造者模式</li>
<li>单例模式</li>
<li>原型模式</li>
</ul>
</li>
<li><strong>设计模式-结构型模式</strong><ul>
<li>适配器模式</li>
<li>装饰着模式</li>
<li>代理模式</li>
<li>外观模式</li>
<li>桥接模式</li>
<li>组合模式</li>
<li>享元模式</li>
</ul>
</li>
<li><strong>设计模式-行为型模式</strong><ul>
<li>策略模式</li>
<li>观察者模式</li>
<li>责任链模式</li>
<li>备忘录模式</li>
<li>模板方法模式</li>
<li>迭代器模式</li>
<li>中介者模式</li>
<li>命令模式</li>
<li>访问者模式</li>
<li>解释器模式</li>
<li>状态模式</li>
</ul>
</li>
</ol>
<h2 id="UML入门"><a href="#UML入门" class="headerlink" title="UML入门"></a>UML入门</h2><p>todo：参考大话设计模式</p>
<h3 id="如何理解UML类图"><a href="#如何理解UML类图" class="headerlink" title="如何理解UML类图"></a>如何理解UML类图</h3><p>参考大话设计模式，理解下图：</p>
<p><img alt="image-20190201083645870" data-src="https://ws1.sinaimg.cn/large/006tNc79gy1fzqmjg6zxlj30vv0oph1c.jpg" class="lazyload"></p>
<p>类图，记忆技巧：</p>
<ul>
<li>依赖关系和关联关系：</li>
<li>聚合关系和组合关系：</li>
<li>继承和接口：箭头指向的地方是明确对方存在，才能指向。因此是子类指向父类。</li>
</ul>
<h2 id="设计原则"><a href="#设计原则" class="headerlink" title="设计原则"></a>设计原则</h2><h3 id="开闭原则"><a href="#开闭原则" class="headerlink" title="开闭原则"></a>开闭原则</h3><ul>
<li>定义:一个软件实体如类、模块和函数应该对扩展开放,对修改关闭。</li>
<li>用抽象构建框架,用实现扩展细节</li>
<li>优点:提高软件系统的可复用性及可维护性</li>
</ul>
<h3 id="依赖倒置原则"><a href="#依赖倒置原则" class="headerlink" title="依赖倒置原则"></a>依赖倒置原则</h3><ul>
<li>定义:高层模块不应该依赖低层模块,二者都应该依赖其抽象</li>
<li>抽象不应该依赖细节;细节应该依赖抽象</li>
<li>针对接口编程,不要针对实现编程</li>
<li>优点:可以减少类间的耦合性、提高系统稳定性,提高代码可读性<br>和可维护性,可降低修改程序所造成的风险</li>
</ul>
<h3 id="单一职责原则"><a href="#单一职责原则" class="headerlink" title="单一职责原则"></a>单一职责原则</h3><ul>
<li>定义:不要存在多于一个导致类变更的原因</li>
<li>一个类/接口/方法只负责-项职责</li>
<li>优点:降低类的复杂度、提高类的可读性,提高系统的可维护性、降低变更引起的风险</li>
</ul>
<h3 id="接口隔离原则"><a href="#接口隔离原则" class="headerlink" title="接口隔离原则"></a>接口隔离原则</h3><ul>
<li>定义:用多个专门的接口,而不使用单一的总接口,客户端不应该依赖它不需要的接口</li>
<li>一个类对一-个类的依赖应该建立在最小的接口上</li>
<li>建立单一接口, 不要建立庞大臃肿的接口</li>
<li>尽量细化接口,接口中的方法尽量少</li>
<li>注意适度原则，一定要适度</li>
<li>优点：符合我们常说的高内聚低耦合的设计思想，从而使得类具有很好的可读性，可扩展性和可维护性。</li>
</ul>
<h3 id="迪米特原则"><a href="#迪米特原则" class="headerlink" title="迪米特原则"></a>迪米特原则</h3><ul>
<li>定义:一个对象应该对其他对象保持最少的了解。又叫最少知道原则</li>
<li>尽量降低类与类之间的耦合</li>
<li>优点:降低类之间的耦合、</li>
<li>强调只和朋友交流,不和陌生人说话</li>
<li>朋友：出现在成员变量、方法的输入、输出参数中的类称为成员朋友类<br>而出现在方法体内部的类不属于朋友类。</li>
</ul>
<h3 id="合成复用原则"><a href="#合成复用原则" class="headerlink" title="合成复用原则"></a>合成复用原则</h3><p>todo</p>
<h2 id="创建者模式"><a href="#创建者模式" class="headerlink" title="创建者模式"></a>创建者模式</h2><p>todo：总结概述</p>
<h3 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h3><ul>
<li>定义:由一个工厂对象决定创建出哪一种产品类的实例</li>
<li>类型:创建型,但<strong>不属于GOF23种设计模式</strong></li>
<li>适用场景：<ul>
<li>工厂类负责创建的对象比较少</li>
<li>客户端(应用层)只知道传入工厂类的参数，对于如何创建对象(逻辑)不关心</li>
</ul>
</li>
<li>优点：<ul>
<li>只需要传入一个正确的参数，就可以获取你所需要的对象而无须知道其创建细节</li>
</ul>
</li>
<li>缺点：<ul>
<li>工厂类的职责相对过重，增加新的产品需要修改工厂类的判断逻辑，违背开闭原则。</li>
</ul>
</li>
<li>UML图：<ul>
<li><img alt="image-20190214145817605" data-src="https://ws1.sinaimg.cn/large/006tKfTcgy1g05ymfr7fqj30ua0u0wgc.jpg" class="lazyload"></li>
</ul>
</li>
</ul>
<h3 id="工厂方法模式"><a href="#工厂方法模式" class="headerlink" title="工厂方法模式"></a>工厂方法模式</h3><ul>
<li>定义:定义一个创建对象的接口，但让实现这个接口的类来决定实例化哪个类，工厂方法让类的实例化推迟到子类中进行。（针对产品等级实现）</li>
<li>适用场景：<ul>
<li>创建对象需要大量重复的代码</li>
<li>客户端(应用层)不依赖于产品类实例如何被创建、实现等细节</li>
<li>一个类通过其子类来指定创建哪个对象</li>
</ul>
</li>
<li>优点：<ul>
<li>用户只需要关心所需产品对应的工厂,无须关心创建细节</li>
<li>加入新产品符合开闭原则,提高可扩展性</li>
</ul>
</li>
<li>缺点：<ul>
<li>类的个数容易过多，增加复杂度</li>
<li>增加系统的抽象性和理解难度</li>
</ul>
</li>
<li>UML图：<ul>
<li><img alt="image-20190214145908684" data-src="https://ws2.sinaimg.cn/large/006tKfTcgy1g05ynbuqusj31ae0sgwhm.jpg" class="lazyload"></li>
</ul>
</li>
</ul>
<h3 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h3><ul>
<li>定义:抽象工厂模式提供一个创建一系列相关或相互依赖对象的接口。（针对产品族实现）</li>
<li>无须指定它们具体的类</li>
<li>使用场景<ul>
<li>客户端(应用层)不依赖于产品类实例如何被创建、实现等细节</li>
<li>强调一系列相关的产品对象(属于同一产品族)一起使用创建对象需要大量重复的代码</li>
<li>提供一个产品类的库,所有的产品以同样的接口出现，从而使客户端不依赖于具体实现</li>
</ul>
</li>
<li>优点<ul>
<li>具体产品在应用层代码隔离,无须关心创建细节</li>
<li>将一个系列的产品族统一 到一起创建</li>
</ul>
</li>
<li>缺点：<ul>
<li>规定了所有可能被创建的产品集合，产品族中扩展新的产品困难，需要修改抽象工厂接口。</li>
<li>增加了系统的抽象性和理解难度。</li>
</ul>
</li>
<li>UML图：<ul>
<li><img alt="image-20190214145951819" data-src="https://ws3.sinaimg.cn/large/006tKfTcgy1g05yo2nhp4j31gk0tytcr.jpg" class="lazyload"></li>
</ul>
</li>
</ul>
<h4 id="理解产品族和同一产品等级？"><a href="#理解产品族和同一产品等级？" class="headerlink" title="理解产品族和同一产品等级？"></a>理解产品族和同一产品等级？</h4><p>简单的比喻：</p>
<p><img alt="image-20190204112856678" data-src="https://ws4.sinaimg.cn/large/006tNc79gy1fzu8djsiolj31fp0u0wul.jpg" class="lazyload"></p>
<p><strong>产品族</strong>：美的冰箱，美的空调，美的压力锅。</p>
<p>同一<strong>产品等级</strong>：美的冰箱，海尔冰箱，</p>
<h3 id="建造者模式"><a href="#建造者模式" class="headerlink" title="建造者模式"></a>建造者模式</h3><ul>
<li><p>定义:将一个复杂对象的构建与它的表示分离,使得同样的构建过程以创建不同的表示</p>
</li>
<li><p>用户只需指定需要建造的类型就可以得到它们,建造过程及细节不需要知道</p>
</li>
<li><p>适用场景：</p>
<ul>
<li>如果一个对象有非常复杂的内部结构（很多属性）</li>
<li>想把复杂对象的创建和使用分离</li>
</ul>
</li>
<li><p>优点：</p>
<ul>
<li>封装性好，创建和使用分离</li>
<li>扩展性好，建造类之间独立，一定程度上解耦。</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>产生多余的Builder对象</li>
<li>产品内部发生变化,建造者 都要修改,成本较大</li>
</ul>
</li>
<li><p>代码实现：</p>
<ul>
<li><p>最快的方式一：使用Lombak的@Build注解。</p>
</li>
<li><p>方式二：自己编写静态内部类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by codingprh</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Course</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String courseName;</span><br><span class="line">    <span class="keyword">private</span> String coursePPT;</span><br><span class="line">    <span class="keyword">private</span> String courseVideo;</span><br><span class="line">    <span class="keyword">private</span> String courseArticle;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//question &amp; answer</span></span><br><span class="line">    <span class="keyword">private</span> String courseQA;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Course</span><span class="params">(CourseBuilder courseBuilder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.courseName = courseBuilder.courseName;</span><br><span class="line">        <span class="keyword">this</span>.coursePPT = courseBuilder.coursePPT;</span><br><span class="line">        <span class="keyword">this</span>.courseVideo = courseBuilder.courseVideo;</span><br><span class="line">        <span class="keyword">this</span>.courseArticle = courseBuilder.courseArticle;</span><br><span class="line">        <span class="keyword">this</span>.courseQA = courseBuilder.courseQA;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Course&#123;"</span> +</span><br><span class="line">                <span class="string">"courseName='"</span> + courseName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", coursePPT='"</span> + coursePPT + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", courseVideo='"</span> + courseVideo + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", courseArticle='"</span> + courseArticle + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", courseQA='"</span> + courseQA + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">CourseBuilder</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String courseName;</span><br><span class="line">        <span class="keyword">private</span> String coursePPT;</span><br><span class="line">        <span class="keyword">private</span> String courseVideo;</span><br><span class="line">        <span class="keyword">private</span> String courseArticle;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//question &amp; answer</span></span><br><span class="line">        <span class="keyword">private</span> String courseQA;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> CourseBuilder <span class="title">buildCourseName</span><span class="params">(String courseName)</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.courseName = courseName;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> CourseBuilder <span class="title">buildCoursePPT</span><span class="params">(String coursePPT)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.coursePPT = coursePPT;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> CourseBuilder <span class="title">buildCourseVideo</span><span class="params">(String courseVideo)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.courseVideo = courseVideo;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> CourseBuilder <span class="title">buildCourseArticle</span><span class="params">(String courseArticle)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.courseArticle = courseArticle;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> CourseBuilder <span class="title">buildCourseQA</span><span class="params">(String courseQA)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.courseQA = courseQA;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Course <span class="title">build</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Course(<span class="keyword">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="建造者模式和工厂模式的区别？"><a href="#建造者模式和工厂模式的区别？" class="headerlink" title="建造者模式和工厂模式的区别？"></a>建造者模式和工厂模式的区别？</h4><ol>
<li>建造者更注重方法的调用顺序，工厂模式更注重创建产品。</li>
<li>创建粒度不同：建造者可以构建相对复杂的对象，工厂创建的都类似的产品。</li>
<li>关注点不同：工厂只是关注产品创建出来了就行，但是建造者还要关心创建的产品的组成。</li>
</ol>
<h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><ul>
<li><p>定义：保证一个类只有一个实例，并提供一个全局访问点。</p>
</li>
<li><p>适用场景：想确保任何情况下都绝对只有一个实例。</p>
</li>
<li><p>优点：</p>
<ul>
<li>在内存里只有一个实例,减少了内存开销</li>
<li>可以避免对资源的多重占用</li>
<li>设置全局访问点，严格控制访问。</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>没有接口，扩展困难。</li>
</ul>
</li>
<li><p>考虑因素：</p>
<ul>
<li>私有构造器</li>
<li>线程安全</li>
<li>延迟加载</li>
<li>序列化和反序列化安全</li>
<li>反射</li>
</ul>
</li>
</ul>
<h4 id="懒汉延迟加载"><a href="#懒汉延迟加载" class="headerlink" title="懒汉延迟加载"></a>懒汉延迟加载</h4><p>懒汉的意思：就是当使用的时候才去加载</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazySingleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> LazySingleton lazySingleton = <span class="keyword">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazySingleton</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(lazySingleton != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"单例构造器禁止反射调用"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//同步机制</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> LazySingleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(lazySingleton == <span class="keyword">null</span>)&#123;</span><br><span class="line">            lazySingleton = <span class="keyword">new</span> LazySingleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> lazySingleton;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>很简单实现，但是为了解决延迟加载线程安全、sychronized同步开销大等问题，产生了双重锁和静态内部类两种方式。 </p>
<h4 id="懒汉延迟加载：双重锁方式"><a href="#懒汉延迟加载：双重锁方式" class="headerlink" title="懒汉延迟加载：双重锁方式"></a>懒汉延迟加载：双重锁方式</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by codingprh</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyDoubleCheckSingleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> LazyDoubleCheckSingleton lazyDoubleCheckSingleton = <span class="keyword">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyDoubleCheckSingleton</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LazyDoubleCheckSingleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(lazyDoubleCheckSingleton == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (LazyDoubleCheckSingleton<span class="class">.<span class="keyword">class</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(lazyDoubleCheckSingleton == <span class="keyword">null</span>)&#123;</span><br><span class="line">                    lazyDoubleCheckSingleton = <span class="keyword">new</span> LazyDoubleCheckSingleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> lazyDoubleCheckSingleton;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>什么是重排序？如何处理重排序问题？</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1:分配对象的内存空间</span><br><span class="line"></span><br><span class="line">2.初始化对象</span><br><span class="line"></span><br><span class="line">3:设置instance指向内存空间</span><br><span class="line"></span><br><span class="line">4.线程0初次访问对象</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">如果顺序2和顺序3，顺序号对调就是重排序</span></span><br></pre></td></tr></table></figure>

<p>单线程不会导致问题  ：<img alt="image-20190205122550867" data-src="https://ws3.sinaimg.cn/large/006tNc79gy1g04iha60bkj317d0u0amk.jpg" class="lazyload"></p>
<p>多线程问题展示：<img alt="image-20190205123516914" data-src="https://ws2.sinaimg.cn/large/006tNc79gy1g04ih41qgcj31o20u0h38.jpg" class="lazyload"></p>
<p>解决办法：</p>
<ul>
<li>不发生重排序：使用<strong>volatile</strong>关键字</li>
<li>使用静态内部类：基于类初始化的延迟加载解决方案</li>
</ul>
<h4 id="懒汉延迟加载：静态内部类方式"><a href="#懒汉延迟加载：静态内部类方式" class="headerlink" title="懒汉延迟加载：静态内部类方式"></a>懒汉延迟加载：静态内部类方式</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by codingprh</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticInnerClassSingleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerClass</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> StaticInnerClassSingleton staticInnerClassSingleton = <span class="keyword">new</span> StaticInnerClassSingleton();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> StaticInnerClassSingleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> InnerClass.staticInnerClassSingleton;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StaticInnerClassSingleton</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(InnerClass.staticInnerClassSingleton != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"单例构造器禁止反射调用"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img alt="image-20190205124949423" data-src="https://ws4.sinaimg.cn/large/006tNc79gy1g04igxuzg6j31l20u01bh.jpg" class="lazyload"></p>
<h4 id="饿汉式加载"><a href="#饿汉式加载" class="headerlink" title="饿汉式加载"></a>饿汉式加载</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by codingprh</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HungrySingleton</span> <span class="keyword">implements</span> <span class="title">Serializable</span>,<span class="title">Cloneable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> HungrySingleton hungrySingleton;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        hungrySingleton = <span class="keyword">new</span> HungrySingleton();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">HungrySingleton</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(hungrySingleton != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"单例构造器禁止反射调用"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> HungrySingleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hungrySingleton;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Object <span class="title">readResolve</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hungrySingleton;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getInstance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>写法简单，在类加载的过程就完成了初始化。没有线程安全等问题。缺点就是造成内存的浪费。</p>
<h4 id="如何避免序列化和反序列化对单例模式的破坏？"><a href="#如何避免序列化和反序列化对单例模式的破坏？" class="headerlink" title="如何避免序列化和反序列化对单例模式的破坏？"></a>如何避免序列化和反序列化对单例模式的破坏？</h4><p>通过查看源码的方式，在单例模式中编写readResolve方法直接返回单例对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> object <span class="title">readResolve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="如何解决通过反射将私有构造器改为public，从而破坏单例对象？"><a href="#如何解决通过反射将私有构造器改为public，从而破坏单例对象？" class="headerlink" title="如何解决通过反射将私有构造器改为public，从而破坏单例对象？"></a>如何解决通过反射将私有构造器改为public，从而破坏单例对象？</h4><p>破坏原理：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Class objectClass = Class.forName(T<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">Constructor constructor = objectClass.getDeclaredConstructor();</span><br><span class="line">constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">T obj=constructor.newInstance();</span><br></pre></td></tr></table></figure>

<p>解决方案：</p>
<ul>
<li><p>饿汉加载（在类初始化的时候完成初始化）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//直接在私有构造器中判断</span></span><br><span class="line"><span class="comment">//适用于：静态内部类加载和饿汉式加载</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">XX</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(instace!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="function">thrown new <span class="title">RuntimeException</span><span class="params">(<span class="string">"单例对象已经完成了初始化，不允许破坏单例对象"</span>)</span></span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>延迟加载（在使用的时候才加载）</p>
<p>还是在私有构造器中加入Null判断和跑异常操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过反射调用对象和调用单例对象的getInstance()方法的顺序不同</span></span><br><span class="line"><span class="comment">//前者在前，会产生两个不同的对象</span></span><br><span class="line"><span class="comment">//后者在前，会抛出异常</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="枚举方式（Effective-Java推荐：最佳）"><a href="#枚举方式（Effective-Java推荐：最佳）" class="headerlink" title="枚举方式（Effective Java推荐：最佳）"></a>枚举方式（Effective Java推荐：最佳）</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by codingprh</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> EnumInstance &#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line">    <span class="keyword">private</span> Object data;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(Object data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> EnumInstance <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>天然保护，不受序列化和反序列攻击和反射攻击。</p>
<h4 id="容器单例模式"><a href="#容器单例模式" class="headerlink" title="容器单例模式"></a>容器单例模式</h4><p>看具体场景（线程安全、饿汉式等）是否使用，demo：使用一个map来存储一堆单例对象。</p>
<h4 id="ThreadLocal”单例“模式"><a href="#ThreadLocal”单例“模式" class="headerlink" title="ThreadLocal”单例“模式"></a>ThreadLocal”单例“模式</h4><p>线程之间单例</p>
<h3 id="原型模式"><a href="#原型模式" class="headerlink" title="原型模式"></a>原型模式</h3><ul>
<li><p>定义:指原型实例指定创建对象的种类,并且通过拷贝这些原型创建新的对象</p>
</li>
<li><p>不需要知道任何创建的细节,不调用构造函数</p>
</li>
<li><p>使用场景</p>
<ul>
<li>类初始化消耗较多资源</li>
<li>new产生的一个对象需要非常繁琐的过程(数据准备、访问权2<br>限等)</li>
<li>构造函数比较复杂</li>
<li>循环体中生产大量对象时</li>
</ul>
</li>
<li><p>优点：</p>
<ul>
<li>原型模式性能比直接new一个对象性能高</li>
<li>简化创建过程</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>必须配备克隆方法</li>
<li>对克隆复杂对象或对克隆出的对象进行复杂改造时,容易引入风险</li>
<li>深拷贝、浅拷贝要运用得当</li>
</ul>
</li>
<li><p>正确使用深克隆和浅克隆</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//克隆都要实现CloneAble接口</span></span><br><span class="line"><span class="comment">//浅克隆：直接调用super.clone();</span></span><br><span class="line"><span class="comment">//深克隆：在克隆引用对象的时候，需要在重写的clone()方法中指定</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>实例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by codingprh</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Pig</span> <span class="keyword">implements</span> <span class="title">Cloneable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Date birthday;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        Pig pig = (Pig) <span class="keyword">super</span>.clone();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//深克隆：对于引用对象</span></span><br><span class="line">        pig.birthday = (Date) pig.birthday.clone();</span><br><span class="line">        <span class="keyword">return</span> pig;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="结构型模式"><a href="#结构型模式" class="headerlink" title="结构型模式"></a>结构型模式</h2><h3 id="外观模式"><a href="#外观模式" class="headerlink" title="外观模式"></a>外观模式</h3><ul>
<li>定义:又叫<strong>门面模式</strong>,提供了一个统一的接口,用来访问子系统中的一群接口</li>
<li>外观模式定义了一个高层接口, 让子系统更容易使用</li>
<li>类型:结构型</li>
<li>适用场景：<ul>
<li>子系统越来越复杂,增加外观模式提供简单调用接口</li>
<li>构建多层系统结构,利用外观对象作为每层的入口,简化层间调用</li>
</ul>
</li>
<li>优点：<ul>
<li>简化了调用过程,无需了解深入子系统,防止带来风险。</li>
<li>减少系统依赖、松散耦合</li>
<li>更好的划分访问层次</li>
<li>符合迪米特法则,即最少知道原则</li>
</ul>
</li>
<li>缺点：<ul>
<li>增加子系统、扩展子系统行为容易引入风险</li>
<li>不符合开闭原则</li>
</ul>
</li>
<li>这是外观模式的uml图和代码实现：<img alt="image-20190302084446258" data-src="https://ws2.sinaimg.cn/large/006tKfTcgy1g0o5qrw1p1j319m0u0tc4.jpg" class="lazyload"></li>
</ul>
<h3 id="装饰者模式"><a href="#装饰者模式" class="headerlink" title="装饰者模式"></a>装饰者模式</h3><ul>
<li>定义:在不改变原有对象的基础之上,将功能附加到对象上</li>
<li>提供了比继承更有弹性的替代方案(扩展原有对象功能)</li>
<li>类型:结构型</li>
<li>适用场景<ul>
<li>扩展一个类的功能或给一个类添加附加职责</li>
<li>动态的给一个对象添加功能,这些功能可以再动态的撤销</li>
</ul>
</li>
<li>优点：<ul>
<li>继承的有力补充,比继承灵活,不改变原有对象的情况下给一个对象扩展功能</li>
<li>通过使用不同装饰类以及这些装饰类的排列组合,可以实现不同效果</li>
<li>符合开闭原则</li>
</ul>
</li>
<li>缺点：<ul>
<li>会出现更多的代码,更多的类,增加程序复杂性</li>
<li>动态装饰时,多层装饰时会更复杂</li>
</ul>
</li>
</ul>
<h3 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h3><ul>
<li>定义:将一个类的接口转换成客户期望的另一个接口</li>
<li>目的：使原本接口不兼容的类可以一起工作</li>
<li>类型:结构型</li>
<li>适用场景：<ul>
<li>◆已经存在的类,它的方法和需求不匹配时(方法结果相同或相似)</li>
<li>◆不是软件设计阶段考 虑的设计模式,是随着软件维护,由于不同产品、不同厂家造成功能类似而接口不相同情况下的解决方案</li>
</ul>
</li>
<li>优点：<ul>
<li>能提高类的透明性和复用,现有的类复用但不需要改变</li>
<li>目标类和适配器类解耦,提高程序扩展性</li>
<li>符合开闭原则</li>
</ul>
</li>
<li>缺点：<ul>
<li>适配器编写过程需要全面考虑,可能会增加系统的复杂性</li>
<li>增加系统代码可读的难度</li>
</ul>
</li>
<li>种类：对象适配器（组合）和类适配器（继承）实现</li>
<li>通过uml来观察来类适配器和对象适配器<ul>
<li>类适配器<img alt="image-20190310142647209" data-src="https://ws3.sinaimg.cn/large/006tKfTcgy1g0xol17vktj30ze0m2dhx.jpg" class="lazyload"></li>
<li>对象适配器<img alt="image-20190310142748869" data-src="https://ws4.sinaimg.cn/large/006tKfTcgy1g0xom27b3sj30z40kqq55.jpg" class="lazyload"></li>
</ul>
</li>
<li>优先原则：<strong>优先（对象适配器模式）组合模式</strong>，其次类适配器模式。</li>
<li></li>
</ul>
<h3 id="享元模式"><a href="#享元模式" class="headerlink" title="享元模式"></a>享元模式</h3><ul>
<li>定义:提供了减少对象数量从而改善应用所需的对象结构的方式</li>
<li>运用共享技术有效地支持大量细粒度的对象</li>
<li>类型:结构型</li>
<li>适用场景：<ul>
<li>常常应用于系统底层的开发,以便解决系统的性能问题。</li>
<li>系统有大量相似对象、需要缓冲池的场景。</li>
</ul>
</li>
<li>优点：<ul>
<li>减少对象的创建,降低内存中对象的数量,降低系统的内存,提高效率:</li>
<li>减少内存之外的其他资源占用</li>
</ul>
</li>
<li>缺点：<ul>
<li>关注内/外部状态、关注线程安全问题</li>
<li>使系统、程序的逻辑复杂化</li>
</ul>
</li>
<li>状态：外部状态（根据外部的信息，改变的东西）和内部状态（理解属性）</li>
</ul>
<h3 id="组合模式"><a href="#组合模式" class="headerlink" title="组合模式"></a>组合模式</h3><ul>
<li><p>定义:将对象组合成树形结构以表示”部分-整体”的层次结构</p>
</li>
<li><p>组合模式使客户端对单个对象和组合对象保持一致的方式处理</p>
</li>
<li><p>类型:结构型</p>
</li>
<li><p>适用场景：</p>
<ul>
<li>希望客户端可以忽略组合对象与单个对象的差异时</li>
<li>处理一个树形结构时</li>
</ul>
</li>
<li><p>优点：</p>
<ul>
<li>清楚地定义分层次的复杂对象,表示对象的全部或部分层次</li>
<li>让客户端忽略了层次的差异,方便对整个层次结构进行控制</li>
<li>简化客户端代码    </li>
<li>符合开闭原则</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>限制类型时会较为复杂</li>
<li>使得设计变得更加抽象</li>
</ul>
</li>
<li></li>
</ul>
<h3 id="桥接模式"><a href="#桥接模式" class="headerlink" title="桥接模式"></a>桥接模式</h3><ul>
<li>定义:将抽象部分与它的具体实现部分分离,使它们都可以独立地变化</li>
<li>通过<strong>组合</strong>的方式建立两个类之间联系,而不是继承</li>
<li>类型:结构型</li>
<li>适用场景：<ul>
<li>抽象和具体实现之间增加更多的灵活性</li>
<li>一个类存在两个(或多个)独立变化的维度,且这两个(或多个)维度都需要独立进行扩展</li>
<li>不希望使用继承,或因为多层继承导致系统类的个数剧增</li>
</ul>
</li>
<li>优点：<ul>
<li>分离抽象部分及其具体实现部分</li>
<li>提高了系统的可扩展性</li>
<li>符合开闭原则</li>
<li>符合合成复用原则</li>
</ul>
</li>
<li>缺点：<ul>
<li>增加了系统的理解与设计难度</li>
<li>需要正确地识别出系统中两个独立变化的维度</li>
</ul>
</li>
</ul>
<h3 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h3><ul>
<li>定义:为其他对象提供一种代理,以控制对这个对象的访问</li>
<li>代理对象在客户端和目标对象之间起到中介的作用</li>
<li>类型:结构型</li>
<li>适用场景：<ul>
<li>保护目标对象</li>
<li>增强目标对象</li>
</ul>
</li>
<li>优点：<ul>
<li>代理模式能将代理对象与真实被调用的目标对象分离</li>
<li>一定程度.上降低了系统的耦合度,扩展性好</li>
<li>保护目标对象</li>
<li>增强目标对象</li>
</ul>
</li>
<li>缺点：<ul>
<li>代理模式会造成系统设计中类的数目增加</li>
<li>在客户端和目标对象增加一个代理对象,会造成请求处理速度变慢</li>
<li>增加系统的复杂度</li>
</ul>
</li>
<li>代理：<ul>
<li>静态代理</li>
<li>动态代理</li>
<li>CGLib代理</li>
</ul>
</li>
<li></li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined" target="_blank" rel="noopener">Noah Pan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2019/01/09/2019-01-09-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">http://yoursite.com/2019/01/09/2019-01-09-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com">Noah</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式    </a></div><div class="post_share"><div class="social-share" data-image="https://tva1.sinaimg.cn/large/006y8mN6ly1g97p2mnavfj31hc0u07et.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://tva1.sinaimg.cn/large/006y8mN6ly1g97t5fdhdrj30u014qdkm.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://tva1.sinaimg.cn/large/006y8mN6ly1g97t6e0istj30p011iq6s.jpg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2019/01/21/2019-01-21-Jenkins%E5%AE%9E%E6%88%98/"><img class="prev_cover lazyload" data-src="https://tva1.sinaimg.cn/large/006y8mN6ly1g97p2mnavfj31hc0u07et.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>Jenkins实战</span></div></a></div><div class="next-post pull_right"><a href="/2018/12/20/2018-12-20-SpringAop%E5%AE%9E%E6%88%98/"><img class="next_cover lazyload" data-src="https://tva1.sinaimg.cn/large/006y8mN6ly1g97p2mnavfj31hc0u07et.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>SpringAop实战</span></div></a></div></nav></div></div><footer id="footer" style="background-image: url(https://tva1.sinaimg.cn/large/006y8mN6gy1g96i6cigbdj31400p0e27.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2017 - 2020 By Noah Pan</div><div class="footer_custom_text">Hi,to contact me <a href="#">Noah</a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script src="/js/tw_cn.js"></script><script>translateInitilization()
</script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>